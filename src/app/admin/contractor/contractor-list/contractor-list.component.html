<div class="d-flex-end">
  <ion-searchbar [formControl]="searchbarControl" class="searchbar-width" placeholder="Search contractors..."></ion-searchbar>
  <ion-button (click)="onAddNewContractor()" color="primary">
    <ion-icon slot="start" name="add-outline"></ion-icon>
    Add New
  </ion-button>
</div>
<ion-grid>
  <ion-row>
    <ion-col size="12" size-md="4" size-lg="3" *ngFor="let item of filteredContractors">
      <ion-card class="form-card" (click)="onViewMoreClicked(item._id)">
        <ion-card-header>
          <ion-card-title>{{item?.userId.firstName}} {{item?.userId.lastName}}</ion-card-title>
        </ion-card-header>

        <ion-card-content>
          <div class="contractor-info">
            <div class="info-row">
              <ion-icon name="briefcase-outline"></ion-icon>
              <div class="info-content">
                <span class="info-label">Position</span>
                <span class="info-value">{{item?.position?.positionName}}</span>
              </div>
            </div>

            <div class="info-row">
              <ion-icon name="mail-outline"></ion-icon>
              <div class="info-content">
                <span class="info-label">Email</span>
                <span class="info-value">{{item?.userId?.email}}</span>
              </div>
            </div>

            <div class="info-row">
              <ion-icon name="call-outline"></ion-icon>
              <div class="info-content">
                <span class="info-label">Phone</span>
                <span class="info-value">{{item?.userId?.phone}}</span>
              </div>
            </div>

            <div class="info-row">
              <ion-icon name="location-outline"></ion-icon>
              <div class="info-content">
                <span class="info-label">Work Location</span>
                <span class="info-value">{{item?.location?.[0]?.type || 'N/A'}}</span>
              </div>
            </div>

            <div class="info-row">
              <ion-icon name="person-outline"></ion-icon>
              <div class="info-content">
                <span class="info-label">Experience</span>
                <span class="info-value">{{item?.yearsOfExperience}} years</span>
              </div>
            </div>
          </div>

          <div class="card-actions">
            <div class="action-buttons">
              <ion-button shape="round" size="small" fill="clear" (click)="onEdit(item)">
                <ion-icon slot="icon-only" name="pencil-outline"></ion-icon>
              </ion-button>
              <ion-button (click)="onDelete(item)" shape="round" size="small" fill="clear" color="danger">
                <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
              </ion-button>
            </div>
            <ion-button class="view-more-btn" (click)="onViewMoreClicked(item._id)" fill="clear" size="small">
              <ion-icon slot="start" name="arrow-forward-outline"></ion-icon>
            </ion-button>
          </div>
        </ion-card-content>
      </ion-card>
    </ion-col>
  </ion-row>
</ion-grid>